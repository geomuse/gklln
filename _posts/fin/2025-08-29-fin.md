---
layout: post
title: é‡‘èå­¦æŠ•èµ„ç»„åˆ æŠ•èµ„ç»„åˆä¼˜åŒ–çš„çº¦æŸæ¡ä»¶
date:  2025-08-29 09:01:00 +0800
image: 08.jpg
tags: 
    - python
    - financial
    - fintech
---

åœ¨é©¬ç§‘ç»´èŒ¨çš„ç†æƒ³åŒ–ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬å¯ä»¥ä»»æ„åˆ†é…æƒé‡ï¼ˆç”šè‡³å…è®¸åšç©ºã€æ— é™æ æ†ï¼‰ã€‚
ä½†åœ¨ç°å®å¸‚åœºä¸­ï¼ŒæŠ•èµ„ç»„åˆä¼˜åŒ–å¾€å¾€éœ€è¦åŠ å…¥**çº¦æŸæ¡ä»¶**ã€‚

---

## ğŸ“Œ 1. å¸¸è§çš„æƒé‡çº¦æŸ

1. **é¢„ç®—çº¦æŸï¼ˆBudget Constraintï¼‰**

   * æ€»æŠ•èµ„é‡‘é¢å¿…é¡»ä¸º 100%ï¼ˆæˆ– 1ï¼‰ï¼š

   $$
   \sum_{i=1}^n w_i = 1
   $$

2. **éè´Ÿçº¦æŸï¼ˆNo Short-Selling Constraintï¼‰**

   * ä¸å…è®¸åšç©ºï¼š

   $$
   w_i \geq 0, \quad \forall i
   $$

3. **æ æ†çº¦æŸï¼ˆLeverage Constraintï¼‰**

   * é™åˆ¶æ æ†å€æ•°ï¼Œä¾‹å¦‚ï¼š

   $$
   \sum |w_i| \leq 1.2
   $$

   è¡¨ç¤ºæœ€å¤šå…è®¸ 20% æ æ†ã€‚

4. **å•èµ„äº§ä¸Šé™ï¼ˆConcentration Constraintï¼‰**

   * é˜²æ­¢è¿‡åº¦é›†ä¸­ï¼š

   $$
   w_i \leq 0.1, \quad \forall i
   $$

   æ¯ä¸ªèµ„äº§æœ€å¤š 10%ã€‚

5. **è¡Œä¸š / é£æ ¼çº¦æŸï¼ˆSector Constraintï¼‰**

   * ä¾‹å¦‚ç§‘æŠ€è‚¡ä¸è¶…è¿‡ 40%ã€‚

6. **äº¤æ˜“æˆæœ¬çº¦æŸï¼ˆTransaction Cost Constraintï¼‰**

   * æƒé‡å˜åŒ–è¿‡å¤§æ—¶ï¼Œä¼šå¢åŠ æ‘©æ“¦æˆæœ¬ï¼Œå› æ­¤çº¦æŸï¼š

   $$
   |w_i^{new} - w_i^{old}| \leq \delta
   $$

---

## ğŸ“Œ 2. æ•°å­¦å»ºæ¨¡

ä¼˜åŒ–é—®é¢˜å¯ä»¥å†™æˆï¼š

$$
\min_w \quad w^T \Sigma w
$$

çº¦æŸæ¡ä»¶ï¼š

$$
\begin{cases} 
\sum w_i = 1 \\
w_i \geq 0 \quad (\text{å¦‚ä¸å…è®¸åšç©º}) \\
w_i \leq u_i \quad (\text{é›†ä¸­åº¦ä¸Šé™})
\end{cases}
$$

---

## ğŸ“Œ 3. Python ç¤ºä¾‹ï¼šå¸¦çº¦æŸçš„æœ€å°æ–¹å·®ç»„åˆ

è¿™é‡Œæˆ‘ä»¬ç”¨ `scipy.optimize` æ¥æ±‚è§£ï¼š

```python
import numpy as np
import pandas as pd
from scipy.optimize import minimize

# å‡è®¾åæ–¹å·®çŸ©é˜µ
cov_matrix = np.array([[0.04, 0.02, 0.01],
                       [0.02, 0.05, 0.03],
                       [0.01, 0.03, 0.06]])

n_assets = cov_matrix.shape[0]

# é£é™©å‡½æ•°ï¼ˆç»„åˆæ–¹å·®ï¼‰
def portfolio_volatility(weights, cov_matrix):
    return np.sqrt(weights.T @ cov_matrix @ weights)

# çº¦æŸæ¡ä»¶
constraints = [
    {'type': 'eq', 'fun': lambda w: np.sum(w) - 1},    # æƒé‡å’Œ = 1
]
bounds = [(0, 0.6) for _ in range(n_assets)]  # æ¯ä¸ªèµ„äº§æƒé‡ 0% ~ 60%

# åˆå§‹çŒœæµ‹
init_guess = np.ones(n_assets) / n_assets

# ä¼˜åŒ–
result = minimize(portfolio_volatility,
                  init_guess,
                  args=(cov_matrix,),
                  method='SLSQP',
                  bounds=bounds,
                  constraints=constraints)

print("æœ€ä¼˜æƒé‡:", result.x)
print("ç»„åˆé£é™©:", result.fun)
```

ğŸ‘‰ ä¸Šä¾‹è¯´æ˜ï¼š

* æ¯ä¸ªèµ„äº§æƒé‡åœ¨ `[0, 0.6]` ä¹‹é—´
* æ€»å’Œå¿…é¡» = 1
* å¾—åˆ°çš„æ˜¯**å¸¦çº¦æŸçš„æœ€å°æ–¹å·®ç»„åˆ**

---

## ğŸ“Œ 4. å®é™…åº”ç”¨

* **åŸºé‡‘ç»ç†**ï¼šé€šå¸¸ä¸èƒ½æ— é™åšç©ºï¼Œæƒé‡è¦å—ç›‘ç®¡å’ŒåŸºé‡‘å¥‘çº¦é™åˆ¶ã€‚
* **ETF äº§å“**ï¼šè¦æ»¡è¶³æŒ‡æ•°è·Ÿè¸ªè¯¯å·®çº¦æŸã€‚
* **ä¿é™©ã€å…»è€é‡‘**ï¼šå¯èƒ½è¦æ±‚å›ºå®šæ¯”ä¾‹æŠ•èµ„äºå€ºåˆ¸æˆ–ç°é‡‘ã€‚
* **å¯¹å†²åŸºé‡‘**ï¼šå¸¸æœ‰æ æ†å’Œç©ºå¤´ä»“ä½ï¼Œä½†ä»ç„¶æœ‰é£é™©é™åˆ¶ã€‚

---

âœ… **å°ç»“ï¼š**

* ç†è®ºæ¨¡å‹æ˜¯â€œæ— é™åˆ¶ä¼˜åŒ–â€ï¼Œç°å®ä¸­å¿…é¡»å¼•å…¥ **æƒé‡çº¦æŸ**ã€‚
* çº¦æŸå¯èƒ½é™ä½æœ€ä¼˜è§£çš„â€œæ•ˆç‡â€ï¼Œä½†ä¼šæé«˜**å¯æ‰§è¡Œæ€§å’Œç¨³å¥æ€§**ã€‚