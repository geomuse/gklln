---
layout: post
title:  pythonç½‘ç»œçˆ¬è™«å®æˆ˜-mongodbæ•°æ®åº“æ“ä½œ
date:   2025-08-05 09:01:00 +0800
categories: 
    - review
    - python
    - web
image: 06.jpg
---

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯pythonç½‘ç»œçˆ¬è™«è¿™é—¨è¯¾ç¨‹çš„ä¸»è¦è®²å¸ˆgeo

```bash
pip install pymongo
```

### è¿æ¥ MongoDB

```py
from pymongo import MongoClient

# é»˜è®¤è¿æ¥æœ¬åœ° MongoDBï¼Œç«¯å£ 27017
client = MongoClient("mongodb://localhost:27017/")

# é€‰æ‹©æ•°æ®åº“ï¼ˆå¦‚æœæ²¡æœ‰ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰
db = client["mydatabase"]

# é€‰æ‹©é›†åˆï¼ˆç›¸å½“äº SQL çš„è¡¨ï¼‰
collection = db["users"]
```

| MongoDB æ¦‚å¿µ | ç±»ä¼¼äº SQL ä¸­        |
| ---------- | ---------------- |
| Database   | æ•°æ®åº“              |
| Collection | è¡¨ï¼ˆtableï¼‰         |
| Document   | è¡Œï¼ˆrowï¼‰ / JSON ç»“æ„ |
| Field      | åˆ—ï¼ˆcolumnï¼‰        |
---

### æ’å…¥æ•°æ®ï¼ˆCreateï¼‰

```python
user = {"name": "Alice", "age": 25}
collection.insert_one(user)  # æ’å…¥å•ç¬”

# å¤šç¬”æ’å…¥
users = [{"name": "Bob", "age": 30}, {"name": "Charlie", "age": 35}]
collection.insert_many(users)
```

### æŸ¥è¯¢æ•°æ®ï¼ˆReadï¼‰

#### æŸ¥æ‰¾ä¸€ç¬”

```python
user = collection.find_one({"name": "Alice"})
print(user)
```

#### æŸ¥æ‰¾å¤šç¬”

```python
for user in collection.find({"age": {"$gte": 30}}):
    print(user)
```

### æ›´æ–°æ•°æ®ï¼ˆUpdateï¼‰

#### æ›´æ–°ä¸€ç¬”

```python
collection.update_one(
    {"name": "Bob"},
    {"$set": {"age": 31}}  # æŠŠ Bob çš„å¹´é¾„æ”¹ä¸º 31
)
```

#### æ›´æ–°å¤šç¬”

```python
collection.update_many(
    {"age": {"$gte": 30}},
    {"$inc": {"age": 1}}  # å¹´é¾„åŠ  1 å²
)
```

### åˆ é™¤æ•°æ®ï¼ˆDeleteï¼‰

#### åˆ é™¤ä¸€ç¬”

```python
collection.delete_one({"name": "Charlie"})
```

#### åˆ é™¤å¤šç¬”

```python
collection.delete_many({"age": {"$gte": 32}})
```

### æŸ¥çœ‹æ‰€æœ‰é›†åˆ

```python
print(db.list_collection_names())
```

### æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“

```python
print(client.list_database_names())
```

---

## ğŸ“‚ ç¬¬ä¸‰æ­¥ï¼šæ–­å¼€è¿æ¥ï¼ˆå¯é€‰ï¼‰

```python
client.close()
```