---
layout: post
title:  python网络爬虫实战-playwright
date:   2025-08-07 09:01:00 +0800
tags: 
    - python
    - web
image: 07.jpg
---

大家好，我是python网络爬虫这门课程的主要讲师geo

`playwright`比`selenium`强大

```bash
pip install playwright
playwright install
```

如果执行不了`playwright install`则执行

```bash
python -m playwright install
```

### 示例 打开网页并提取标题

```py
from playwright.sync_api import sync_playwright

with sync_playwright() as p:
    browser = p.chromium.launch(headless=True)  # 设置 headless=False 可看到界面
    page = browser.new_page()
    page.goto("https://example.com")
    print("网页标题是：", page.title())
    browser.close()
```

### 示例 抓取动态加载的内容（知乎热门话题）

```py
from playwright.sync_api import sync_playwright

with sync_playwright() as p:
    browser = p.chromium.launch(headless=True)
    page = browser.new_page()
    page.goto("https://www.zhihu.com/hot", timeout=60000)
    page.wait_for_timeout(3000)  # 等待页面渲染

    titles = page.query_selector_all('section h2')
    for idx, title in enumerate(titles, 1):
        print(f"{idx}. {title.text_content()}")

    browser.close()
```

### 示例 抓取京东商品名称与价格（需翻页）

```py
from playwright.sync_api import sync_playwright

with sync_playwright() as p:
    browser = p.chromium.launch(headless=True)
    page = browser.new_page()
    page.goto('https://search.jd.com/Search?keyword=耳机', timeout=60000)
    page.wait_for_selector('.gl-item')

    items = page.query_selector_all('.gl-item')
    for item in items[:10]:
        name = item.query_selector('.p-name em').text_content().strip()
        price = item.query_selector('.p-price i').text_content().strip()
        print(f"{name} - ¥{price}")

    browser.close()
```