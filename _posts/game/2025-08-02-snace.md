---
layout: post
title:  pythonè´ªåƒè›‡æ¸¸æˆé¡¹ç›®-gymç¯å¢ƒä»‹ç»
date:   2025-08-02 09:01:00 +0800
categories: 
    - review
    - python
    - game
image: 03.jpg
tags: python game
---

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯pythonç½‘ç»œçˆ¬è™«è¿™é—¨è¯¾ç¨‹çš„ä¸»è¦è§„åˆ’geoï¼Œ

## ä»€ä¹ˆæ˜¯ `gym`ï¼Ÿ

`gym` æ˜¯ä¸€ä¸ªå¼ºåŒ–å­¦ä¹ ç¯å¢ƒçš„é›†åˆï¼Œè®©ä½ å¯ä»¥æ–¹ä¾¿åœ°ï¼š

* **å»ºç«‹æ™ºèƒ½ä½“ï¼ˆAgentï¼‰**
* **ä¸ç¯å¢ƒäº’åŠ¨ï¼ˆEnv.step()ï¼‰**
* **è¯„ä¼°ç­–ç•¥è¡¨ç°**


## å®‰è£… gym

```bash
pip install gym
```

---

## CartPole å¹³è¡¡æ†æ¸¸æˆ

### å»ºç«‹ç¯å¢ƒ

```python
import gym

env = gym.make("CartPole-v1")
obs = env.reset()

print("åˆå§‹è§‚æµ‹å€¼:", obs)
```

---

### éšæœºåŠ¨ä½œè®­ç»ƒå¾ªç¯

```python
for episode in range(5):  # è®­ç»ƒ5å±€
    obs = env.reset()
    done = False
    total_reward = 0

    while not done:
        env.render()  # å¯è§†åŒ–ï¼ˆæœ‰äº›ç³»ç»Ÿéœ€è¦é¢å¤–è®¾ç½®ï¼‰
        action = env.action_space.sample()  # éšæœºåŠ¨ä½œ
        obs, reward, done, info = env.step(action)
        total_reward += reward

    print(f"ç¬¬ {episode+1} å±€æ€»å¥–åŠ±: {total_reward}")
env.close()
```

---

### ä½¿ç”¨ Q-Learning / DQN è®­ç»ƒ Agentï¼ˆç®€åŒ–ç‰ˆï¼‰

ä»¥ä¸‹æ˜¯ç»“æ„æ¡†æ¶ï¼š

```python
# ä¼ªä»£ç ç»“æ„
for episode in range(MAX_EPISODES):
    state = env.reset()
    done = False
    while not done:
        action = agent.choose_action(state)  # æ ¹æ®ç­–ç•¥
        next_state, reward, done, info = env.step(action)
        agent.learn(state, action, reward, next_state, done)
        state = next_state
```

<!-- ## ğŸ¤– è¿›é˜¶ï¼šæ¨èå¼ºåŒ–å­¦ä¹ åº“ï¼ˆå¯æ­é… gym ä½¿ç”¨ï¼‰

| åº“                   | ç®€ä»‹                           |
| ------------------- | ---------------------------- |
| `stable-baselines3` | æœ€å¸¸ç”¨å¼ºåŒ–å­¦ä¹ å¥—ä»¶ï¼Œæ”¯æŒ DQNã€PPOã€A2C ç­‰ç®—æ³• |
| `RLlib`             | åˆ†å¸ƒå¼è®­ç»ƒã€æ”¯æŒå¤šç§æ¡†æ¶                 |
| `cleanrl`           | é«˜æ•ˆã€å•æ–‡ä»¶å¼ºåŒ–å­¦ä¹ ç®—æ³•å®ç°               |

å®‰è£… `stable-baselines3`ï¼š

```bash
pip install stable-baselines3[extra]
```

---

## ğŸ“˜ å¸¸è§ç¯å¢ƒç±»å‹

| ç±»å‹       | ç¤ºä¾‹           | åç§°                |
| -------- | ------------ | ----------------- |
| ç»å…¸æ§åˆ¶     | å¹³è¡¡æ†          | `CartPole-v1`     |
| Atari æ¸¸æˆ | Breakout     | `ALE/Breakout-v5` |
| ç‰©ç†å¼•æ“     | Lunar Lander | `LunarLander-v2`  |
| æœºå™¨äººæ§åˆ¶    | Fetch, Ant   | éœ€ `mujoco` å®‰è£…     |

---

## ğŸ§ª æƒ³è®­ç»ƒå“ªä¸ªæ¸¸æˆï¼Ÿ

ä½ å¯ä»¥å‘Šè¯‰æˆ‘ä½ æƒ³è®­ç»ƒå“ªä¸€ç±»æ¸¸æˆï¼ˆå¦‚è´ªåƒè›‡ã€è·³è·ƒç±»ã€å°„å‡»ç±»ï¼‰ï¼Œæˆ‘å¯ä»¥ï¼š

* æ¨è gym ç¯å¢ƒ
* æä¾›è®­ç»ƒä»£ç ï¼ˆDQNã€PPOã€A2C ç­‰ï¼‰

æ˜¯å¦éœ€è¦æˆ‘ä¸ºä½ å»ºç«‹ä¸€ä¸ªå®Œæ•´çš„ DQN + è´ªåƒè›‡ ç¯å¢ƒï¼Ÿæˆ–è€…å…¶ä»–æ¸¸æˆï¼Ÿ -->
