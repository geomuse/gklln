---
layout: post
title:  python flask-模板继承
date:   2025-11-14 11:24:29 +0800
tags: 
    - python 
    - flask
image: 07.jpg
---

Flask 模板继承是基于其使用的模板引擎 **Jinja2** 实现的，它允许你创建一个**基础模板（骨架）**，然后让其他**子模板**继承它，并覆盖或添加特定的内容。

这是使用 Flask 模板继承的基本用法和关键元素：

### 基础模板 (Base Template)

通常命名为 `base.html` 或类似的名称。它定义了网页的通用结构和可被子模板替换的**块（blocks）**。

  * **`{% block block_name %}`** 和 **`{% endblock %}`**：
      * 这些标签定义了一个“块”，子模板可以通过同名的块来替换其内容。
      * 你可以为块设置默认内容，如果子模板没有覆盖它，就会显示默认内容。

**示例 (`base.html`)：**

```html
<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}My Site{% endblock %} - Flask App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="header">
        <h1>Flask 模板继承示例</h1>
        <ul class="nav">
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
        </ul>
    </div>
    
    <div id="content">
        {% block content %}
            <p>这是基础模板的默认内容。</p>
        {% endblock %}
    </div>
    
    <div id="footer">
        {% block footer %}
            &copy; {{ now.year }} My Flask App
        {% endblock %}
    </div>
</body>
</html>
```

### 子模板 (Child Template)

子模板继承基础模板，并替换或修改基础模板中定义的块。

  * **`{% extends "base.html" %}`**：
      * 这是**关键**！它必须是子模板的**第一个**标签。它告诉 Jinja2 这个模板继承自 `base.html`。
  * **`{% block block_name %}`** 和 **`{% endblock %}`**：
      * 使用与基础模板中**同名**的块标签来覆盖或替换基础模板中的相应内容。

**示例 (`index.html`)：**

```html
{% extends "base.html" %}

{# 覆盖 base.html 中的 title 块 #}
{% block title %}
    Home Page
{% endblock %}

{# 覆盖 base.html 中的 content 块 #}
{% block content %}
    <h2>欢迎来到主页!</h2>
    <p>这里是主页的特有内容。</p>
{% endblock %}

{# 没有覆盖 footer 块，因此会使用 base.html 中的默认页脚 #}
```

### 使用 `{{ super() }}`

如果你想在子模板中**保留**父模板（基础模板）块的内容，并在其基础上**添加**新内容，可以使用 `{{ super() }}`。

**示例（在子模板中，例如 `about.html`）：**

```html
{% extends "base.html" %}

{% block content %}
    {{ super() }}  <h3>关于我们</h3>
    <p>这是一个关于我们页面的额外信息。</p>
{% endblock %}
```

### 总结

| 标签 | 作用 | 放在哪里 |
| :--- | :--- | :--- |
| **`{% block name %}`** | 在基础模板中**定义**一个可替换的区域；在子模板中**替换**该区域的内容。 | 基础模板和子模板 |
| **`{% extends "file" %}`** | **指定**当前模板继承自哪个父模板。 | 子模板的**第一行** |
| **`{{ super() }}`** | **渲染**父模板（基础模板）中相应块的内容。 | 子模板的 `{% block %}` 内 |

模板继承是构建一致且高效的 Flask 应用界面的**核心模式**。