---
layout: post
title:  é‡‘èç§‘æŠ€é€‰è‚¡æœºå™¨äºº shinyçš„ä½¿ç”¨æ•™å­¦-3
date:   2025-08-28 09:01:00 +0800
image: 08.jpg
tags: 
    - r
    - fintech
    - financial
---

Shiny çš„å¼ºå¤§ä¹‹å¤„åœ¨äºï¼š
ğŸ‘‰ **ç”¨æˆ·è¾“å…¥**ï¼ˆinputï¼‰å‘ç”Ÿå˜åŒ– â†’ **è¾“å‡º**ï¼ˆoutputï¼‰ä¼šè‡ªåŠ¨æ›´æ–°ã€‚
è¿™å°±æ˜¯ **ååº”å¼ç¼–ç¨‹ (Reactive Programming)**ã€‚

---

## 1ï¸âƒ£ ååº”å¼è¾“å‡ºå‡½æ•°

| å‡½æ•°              | ç”¨é€”     |
| --------------- | ------ |
| `renderText()`  | è¾“å‡ºæ–‡å­—   |
| `renderPlot()`  | è¾“å‡ºå›¾è¡¨   |
| `renderTable()` | è¾“å‡ºè¡¨æ ¼   |
| `renderPrint()` | è¾“å‡ºåŸå§‹ç»“æœ |

é…åˆ UI ç«¯çš„è¾“å‡ºå‡½æ•°ï¼š

* `textOutput()`
* `plotOutput()`
* `tableOutput()`
* `verbatimTextOutput()`

---

## 2ï¸âƒ£ ç¤ºä¾‹ï¼šç»˜åˆ¶ç›´æ–¹å›¾

æˆ‘ä»¬åšä¸€ä¸ªå°åº”ç”¨ï¼š

* è¾“å…¥ï¼šé€‰æ‹©è¦ç”Ÿæˆå¤šå°‘ä¸ªéšæœºæ•° (`sliderInput`)
* è¾“å‡ºï¼šç»˜åˆ¶éšæœºæ•°çš„ç›´æ–¹å›¾ (`renderPlot`)

```r
library(shiny)

ui <- fluidPage(
  titlePanel("Day 3: éšæœºæ•°ç›´æ–¹å›¾"),

  sidebarLayout(
    sidebarPanel(
      sliderInput("num", "é€‰æ‹©éšæœºæ•°ä¸ªæ•°ï¼š", 
                  min = 10, max = 1000, value = 100, step = 10)
    ),

    mainPanel(
      plotOutput("histPlot")
    )
  )
)

server <- function(input, output) {
  output$histPlot <- renderPlot({
    data <- rnorm(input$num)   # ç”Ÿæˆéšæœºæ•°
    hist(data, 
         col = "skyblue", 
         border = "white",
         main = paste("ç›´æ–¹å›¾ -", input$num, "ä¸ªéšæœºæ•°"),
         xlab = "æ•°å€¼")
  })
}

shinyApp(ui, server)
```

è¿è¡Œåä½ ä¼šçœ‹åˆ°ï¼š

* å·¦è¾¹æ»‘åŠ¨æ¡é€‰æ‹©æ•°é‡ï¼ˆ10 \~ 1000ï¼‰
* å³è¾¹ç›´æ–¹å›¾ä¼š **è‡ªåŠ¨æ›´æ–°**

---

## 3ï¸âƒ£ ååº”å¼è¡¨è¾¾å¼ `reactive()`

æœ‰æ—¶å€™éœ€è¦åœ¨å¤šä¸ªåœ°æ–¹ä½¿ç”¨åŒä¸€ä»½è®¡ç®—ç»“æœï¼Œå¯ä»¥ç”¨ `reactive()`ã€‚

ä¾‹å­ï¼šæŠŠéšæœºæ•°ç”Ÿæˆæ”¾åœ¨ `reactive()` é‡Œï¼š

```r
server <- function(input, output) {
  rand_data <- reactive({
    rnorm(input$num)
  })

  output$histPlot <- renderPlot({
    hist(rand_data(), col = "orange", border = "white")
  })
}
```

è¿™æ · **`rand_data()`** å°±æ˜¯ä¸€ä¸ªâ€œåŠ¨æ€å˜é‡â€ï¼Œå¯ä»¥åœ¨å¤šä¸ªè¾“å‡ºé‡Œå¤ç”¨ã€‚